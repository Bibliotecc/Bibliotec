<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina do Administrador</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="js/autentificacaoUser.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="body-adm">
    <nav class="menu-lateral">
        <div class="btn-expandir">
            <i> <img src="../img/icons/dashboardarrow.png" alt=""> </i>
        </div>
        <ul>
            <li class="item-menu">
                <a href="todosLivros.html">
                    <span class="icone"> <img src="../img/icons/book.png" alt=""> </span>
                    <span class="txt-link">Livros</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="inserirLivros.html">
                    <span class="icone"> <img src="../img/icons/badd2.png" alt=""> </span>
                    <span class="txt-link">Inserir Livro</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="solicitacoesLivros.html">
                    <span class="icone"> <img src="../img/icons/solicita.png" alt=""> </span>
                    <span class="txt-link">Solicitações <br>de Empréstimos</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="devolveEmp.html">
                    <span class="icone"> <img src="../img/icons/devolve.png" alt=""> </span>
                    <span class="txt-link">Devoluções <br>de Empréstimos</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="historicoEmp.html?psq=">
                    <span class="icone"> <img src="../img/icons/relogio2.png" alt=""> </span>
                    <span class="txt-link">Históricos <br>de Empréstimos</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="inserirAlunos.html">
                    <span class="icone"> <img src="../img/icons/login2.png" alt=""> </span>
                    <span class="txt-link">Inserir Alunos</span>
                </a>
            </li>
        </ul>
    </nav>
    <header>
        <div class="container-adm">
            <nav class="menu">
                <ul>
                    <li id="nomeAdm"> </li>
                    <li> <a href="./index.html"> <img src="../img/logo/logotcc.png" alt="logotcc"> </a> </li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="container-adm">
       <!-- Exiba os Cartões aqui -->
       <div class="container-adm-row">
            <div class="card-letra" id="qntdLivro">

            </div>
            <div class="card-num" id="numberLivro">

            </div>
        </div>
        <div class="container-adm-row">
            <div class="card-letra" id="qntdEmp">

            </div>
            <div class="card-num" id="numberEmp">

            </div>
        </div>
        <div class="container-adm-row">
            <div class="card-letra" id="qntdSlct">

            </div>
            <div class="card-num" id="numberSlct">

            </div>
        </div>
        <div class="container-adm-row">
            <div class="card-letra" id="qntdAtr">

            </div>
            <div class="card-num" id="numberAtr">

            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="container-footer">
                <a href="#"> <img src="../img/logo/facebook.png" alt=""> </a>
                <a href="#"> <img src="../img/logo/instagram.png" alt=""> </a>
                <a href="#"> <img src="../img/logo/twitter.png" alt=""> </a>
            </div>
        </div>
    </footer>
    <div class="end-page">
        <div class="container">
            <div class="container-desc">
                <div class="estil-titulo-endpage">
                    <h2> Criadores do Site </h2>
                    <h2> 3º Desenvolvimento de Sistemas </h2>
                </div>
                <div class="estil-endpage">
                    <p>Bruno</p>
                    <p>Diogo</p>
                    <p>Felipe</p>
                    <p>Gabriella</p>
                    <p>Livia</p>
                    <p>Lucas</p>
                    <p>Lucca</p>
                    <p>Pedro</p>
                    <p>Renzo</p>
                </div>
            </div>
        </div>
    </div>

    <!--  <script>
       const carousel = document.getElementById("carousel");
    const prevButton = document.getElementById("prev-button");
    const nextButton = document.getElementById("next-button");
    let currentTranslate = 0;

    prevButton.addEventListener("click", () => {
        navigateCarousel(2);
    });

    nextButton.addEventListener("click", () => {
        navigateCarousel(-2);
    });

    // Remove event listeners relacionados ao mouse para dispositivos móveis

    // Prevent user from selecting text during drag
    carousel.addEventListener("selectstart", (e) => {
        e.preventDefault();
    });

    function navigateCarousel(direction) {
        const cardWidth = document.querySelector(".container-books").offsetWidth;
        currentTranslate += direction * cardWidth;
        currentTranslate = Math.max(
            -cardWidth * (document.querySelectorAll(".container-books").length - 1),
            Math.min(0, currentTranslate)
        );
        carousel.style.transform = `translateX(${currentTranslate}px)`;
    }

    // Mantenha o scroll habilitado no contêiner do carrossel
    // Remova event listeners de mousedown, mousemove, mouseup e mouseleave

    // Atualize a exibição do carrossel quando a janela for redimensionada
    window.addEventListener("resize", () => {
        // Atualize a largura dos cartões e o tamanho do carrossel
        updateCarouselSize();
    });

    // Função para atualizar a largura dos cartões e o tamanho do carrossel
    function updateCarouselSize() {
        const containerWidth = document.querySelector(".container-books").offsetWidth;
        const cardWidth = document.querySelector(".container-books .book").offsetWidth;
        const newCarouselWidth = containerWidth * document.querySelectorAll(".container-books").length;
        document.querySelectorAll(".container-books").forEach((container) => {
            container.style.width = `${newCarouselWidth}px`;
        });
        currentTranslate = Math.min(0, currentTranslate); // Redefina a posição se necessário
        carousel.style.transform = `translateX(${currentTranslate}px)`;
    }

    // Inicialmente, atualize a exibição do carrossel
    updateCarouselSize();
    </script> -->

    <script>
        document.addEventListener("DOMContentLoaded", initApp);
        var li = document.getElementById('nomeAdm');

        //  let signoutlink =document.getElementById('signoutlink');
        var currentUser = "!logado";

        function getUsername() {
            let keepLoggedIn = localStorage.getItem("keepLoggedIn");
            if (keepLoggedIn == "yes") {
                currentUser = JSON.parse(localStorage.getItem('user'));
            }
        }
        function Signout() {
            Swal.fire({
                title: 'Tem certeza que deseja sair?',
                showDenyButton: true,
                confirmButtonText: 'Não Quero Sair',
                denyButtonText: `Quero Sair`,
            }).then((result) => {
                /* Read more about isConfirmed, isDenied below */
                if (result.isDenied) {
                    localStorage.removeItem('user');
                    localStorage.removeItem('keepLoggedIn');
                    window.location = "index.html";
                }
                else if (result.isConfirmed) {
                    Swal.fire('Entendo entendo, você não vai sair!', '', 'error');
                }
            })
        }
        getUsername();
        if (currentUser == "!logado") {
            let a = document.createElement("a");
            a.innerText = "Login";
            a.href = "login.html";
            let img = document.createElement("img");
            img.src = "../img/icons/login.png";
            img.className = "icon";
            a.appendChild(img);
            li.appendChild(a);


        }
        else {
            let a = document.createElement("a");
            a.innerText = currentUser.usuNome;
            a.href = "javascript:Signout()";

            li.appendChild(a);
            console.log(currentUser.typeUser);
        }

    </script>

    <script type="module" src="js/getLivros.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>